// nextflow.config
// I-SAGE base config (generalized)
// ------------------------------------------------------------------

nextflow.enable.dsl = 2

// -----------------------------
// Default pipeline parameters
// (Users should override via -params-file configs/iblesse.yaml)
// -----------------------------
params {
    fastq_dir       = "/mnt/evafs/groups/sfglab/jborkowska/OPUS_replication_stress/IBLESS/fastq"

    // Publish outputs here (results only)
    outdir          = "/home2/faculty/pmishra/I-SAGE_output"

    // Logs + Nextflow work dir here (execution artifacts)
    logdir          = "/home2/faculty/pmishra/I-SAGE_log"

    sample_pattern  = "*_R1.fastq.gz"

    genome_fasta    = "/mnt/evafs/groups/sfglab/jborkowska/hg38/hg38_reference/hg38_reference.fna"
    genome_index    = "/mnt/evafs/groups/sfglab/jborkowska/hg38/hg38_reference/hg38_reference.fna"

    break_calling = [
        mode          : "per_base",
        bin_size      : 1000,
        remove_sgrdi  : true
    ]
}

// -----------------------------
// Nextflow engine logging
// -----------------------------
log {
    file = "${params.logdir}/nextflow.log"
}

// -----------------------------
// Work directory (intermediates)
// -----------------------------
workDir = "${params.logdir}/work"

// -----------------------------
// Profiles
// -----------------------------
profiles {

    local {
        includeConfig "conf/local.config"
    }

    eden {
        includeConfig "conf/eden.config"
    }

    eden_local {
        includeConfig "conf/eden_local.config"
    }
}